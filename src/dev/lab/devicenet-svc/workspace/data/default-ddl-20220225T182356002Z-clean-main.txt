ALTER TABLE Components DROP CONSTRAINT Components_device_FK;
ALTER TABLE DeviceStatuses DROP CONSTRAINT DeviceStatuses_device_FK;
UPDATE DeviceStatuses a SET journeyId = NULL;
ALTER TABLE DeviceStatuses DROP CONSTRAINT DeviceStatuses_journey_FK;
ALTER TABLE Journeys DROP CONSTRAINT Journeys_device_FK;
UPDATE Journeys a SET startId = NULL;
ALTER TABLE Journeys DROP CONSTRAINT Journeys_start_FK;
UPDATE Journeys a SET endId = NULL;
ALTER TABLE Journeys DROP CONSTRAINT Journeys_end_FK;
ALTER TABLE Files DROP CONSTRAINT Files_device_FK;
UPDATE Files a SET componentId = NULL;
ALTER TABLE Files DROP CONSTRAINT Files_component_FK;
UPDATE Devices a SET groupId = NULL;
ALTER TABLE Devices DROP CONSTRAINT Devices_group_FK;
ALTER TABLE GroupUsers DROP CONSTRAINT GroupUsers_group_FK;
ALTER TABLE GroupUsers DROP CONSTRAINT GroupUsers_user_FK;
DROP TABLE IF EXISTS Components;
DROP INDEX DeviceStatuses_time;
DROP TABLE IF EXISTS DeviceStatuses;
DROP INDEX Journeys_deviceId;
DROP TABLE IF EXISTS Journeys;
DROP TABLE IF EXISTS Files;
DROP TABLE IF EXISTS Devices;
DROP TABLE IF EXISTS GroupUsers;
DROP TABLE IF EXISTS Users;
DROP TABLE IF EXISTS Groups;